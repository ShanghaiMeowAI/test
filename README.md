# Odoo SaaS ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Django + React çš„ Odoo SaaS å¹³å°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§Ÿæˆ·ç¯å¢ƒç®¡ç†ã€å®¢æˆ·ç®¡ç†ã€æˆæƒç ç®¡ç†ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ŒæˆåŠŸèƒ½

- **ğŸ” ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**

  - ç”¨æˆ·ç™»å½•/ç™»å‡º
  - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ï¼ˆç®¡ç†å‘˜ã€è¿ç»´å‘˜ã€æŸ¥çœ‹å‘˜ï¼‰
  - JWT Token è®¤è¯

- **ğŸ“Š ä»ªè¡¨ç›˜**

  - ç³»ç»Ÿç»Ÿè®¡æ•°æ®å±•ç¤º
  - å®¢æˆ·å’Œç¯å¢ƒçŠ¶æ€æ¦‚è§ˆ
  - ç³»ç»Ÿå¥åº·çŠ¶æ€ç›‘æ§

- **ğŸ‘¥ å®¢æˆ·ç®¡ç†**

  - å®¢æˆ·ä¿¡æ¯ CRUD æ“ä½œ
  - å®¢æˆ·çŠ¶æ€ç®¡ç†ï¼ˆæ´»è·ƒã€æš‚åœã€è¿‡æœŸã€è¯•ç”¨ï¼‰
  - éƒ¨ç½²ç±»å‹ç®¡ç†ï¼ˆåœ¨çº¿ã€ç¦»çº¿ï¼‰
  - åˆåŒä¿¡æ¯ç®¡ç†

- **ğŸ–¥ï¸ ç¯å¢ƒç®¡ç†**

  - Odoo ç¯å¢ƒçš„åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤
  - ç¯å¢ƒå¯åŠ¨/åœæ­¢æ“ä½œ
  - å¥åº·æ£€æŸ¥åŠŸèƒ½
  - ç¯å¢ƒçŠ¶æ€ç›‘æ§
  - èµ„æºé…ç½®ç®¡ç†

- **ï¿½ æˆæƒç ç®¡ç†**

  - ç¦»çº¿æˆæƒç ç”Ÿæˆ
  - æˆæƒç çŠ¶æ€ç®¡ç†
  - ä½¿ç”¨æ¬¡æ•°æ§åˆ¶
  - æœ‰æ•ˆæœŸç®¡ç†

- **ğŸ‘¤ ç”¨æˆ·ç®¡ç†**

  - ç”¨æˆ·è´¦å· CRUD æ“ä½œ
  - ç”¨æˆ·æƒé™é…ç½®
  - è§’è‰²åˆ†é…
  - ç”¨æˆ·èµ„æ–™ç®¡ç†

- **ğŸ“‹ æ“ä½œæ—¥å¿—**

  - ç¯å¢ƒæ“ä½œæ—¥å¿—è®°å½•
  - ç”¨æˆ·æ´»åŠ¨æ—¥å¿—
  - ç³»ç»Ÿå®¡è®¡åŠŸèƒ½

- **âš™ï¸ ç³»ç»Ÿè®¾ç½®**
  - ç³»ç»ŸåŸºæœ¬å‚æ•°é…ç½®
  - Kubernetes é›†ç¾¤é…ç½®
  - åŠŸèƒ½å¼€å…³ç®¡ç†
  - ç³»ç»ŸçŠ¶æ€ç›‘æ§

## æŠ€æœ¯æ ˆ

### åç«¯

- **Django 4.2** - Web æ¡†æ¶
- **Django REST Framework** - API æ¡†æ¶
- **PostgreSQL** - æ•°æ®åº“
- **Redis** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨

### å‰ç«¯

- **React 18** - å‰ç«¯æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - æ ·å¼æ¡†æ¶
- **React Router** - è·¯ç”±ç®¡ç†
- **Axios** - HTTP å®¢æˆ·ç«¯

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ backend/                 # Djangoåç«¯
â”‚   â”œâ”€â”€ backend/            # Djangoé¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ customers/          # å®¢æˆ·ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ environments/       # ç¯å¢ƒç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ users/             # ç”¨æˆ·ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ manage.py          # Djangoç®¡ç†è„šæœ¬
â”‚   â””â”€â”€ requirements.txt   # Pythonä¾èµ–
â”œâ”€â”€ frontend/              # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/     # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ types/        # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ contexts/     # Reactä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ package.json      # Node.jsä¾èµ–
â”‚   â””â”€â”€ tailwind.config.js # Tailwindé…ç½®
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Python 3.8+
- Node.js 16+
- PostgreSQL 12+
- Redis (å¯é€‰)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd odoo-saas-management
```

### 2. åç«¯è®¾ç½®

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“
# ç¼–è¾‘ backend/settings.py ä¸­çš„æ•°æ®åº“é…ç½®

# è¿è¡Œæ•°æ®åº“è¿ç§»
python manage.py migrate

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
python manage.py shell < create_admin_user.py

# å¯åŠ¨åç«¯æœåŠ¡
python manage.py runserver
```

### 3. å‰ç«¯è®¾ç½®

```bash
# æ‰“å¼€æ–°ç»ˆç«¯ï¼Œè¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®APIåœ°å€

# å¯åŠ¨å‰ç«¯æœåŠ¡
npm start
```

### 4. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯åœ°å€: http://localhost:3000
- åç«¯ API: http://localhost:8000/api
- Django ç®¡ç†åå°: http://localhost:8000/admin

é»˜è®¤ç®¡ç†å‘˜è´¦å·:

- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

## éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

1. **æ•°æ®åº“é…ç½®**

   - ä½¿ç”¨ PostgreSQL ä½œä¸ºç”Ÿäº§æ•°æ®åº“
   - é…ç½® Redis ç”¨äºç¼“å­˜å’Œä¼šè¯

2. **åç«¯éƒ¨ç½²**

   - ä½¿ç”¨ Gunicorn + Nginx
   - é…ç½®é™æ€æ–‡ä»¶æœåŠ¡
   - è®¾ç½®ç¯å¢ƒå˜é‡

3. **å‰ç«¯éƒ¨ç½²**
   - è¿è¡Œ `npm run build` æ„å»ºç”Ÿäº§ç‰ˆæœ¬
   - ä½¿ç”¨ Nginx æä¾›é™æ€æ–‡ä»¶æœåŠ¡

## API æ–‡æ¡£

ä¸»è¦ API ç«¯ç‚¹ï¼š

- `POST /api/login/` - ç”¨æˆ·ç™»å½•
- `POST /api/logout/` - ç”¨æˆ·ç™»å‡º
- `GET /api/customers/` - è·å–å®¢æˆ·åˆ—è¡¨
- `GET /api/environments/` - è·å–ç¯å¢ƒåˆ—è¡¨
- `POST /api/environments/{id}/start/` - å¯åŠ¨ç¯å¢ƒ
- `POST /api/environments/{id}/stop/` - åœæ­¢ç¯å¢ƒ
- `GET /api/license-keys/` - è·å–æˆæƒç åˆ—è¡¨
- `GET /api/users/` - è·å–ç”¨æˆ·åˆ—è¡¨
- `GET /api/environment-logs/` - è·å–ç¯å¢ƒæ—¥å¿—

## æƒé™è¯´æ˜

### è§’è‰²æƒé™

- **ç®¡ç†å‘˜ (admin)**: æ‹¥æœ‰æ‰€æœ‰æƒé™
- **è¿ç»´å‘˜ (operator)**: å¯ç®¡ç†å®¢æˆ·å’Œç¯å¢ƒï¼ŒæŸ¥çœ‹æ—¥å¿—
- **æŸ¥çœ‹å‘˜ (viewer)**: åªèƒ½æŸ¥çœ‹æ•°æ®ï¼Œä¸èƒ½ä¿®æ”¹

### åŠŸèƒ½æƒé™

- `can_manage_customers`: å®¢æˆ·ç®¡ç†æƒé™
- `can_manage_environments`: ç¯å¢ƒç®¡ç†æƒé™
- `can_view_logs`: æ—¥å¿—æŸ¥çœ‹æƒé™
- `can_generate_licenses`: æˆæƒç ç”Ÿæˆæƒé™

## å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

- éµå¾ª Django æœ€ä½³å®è·µ
- ä½¿ç”¨ Django REST Framework æ„å»º API
- æ¨¡å‹å®šä¹‰åœ¨å„åº”ç”¨çš„ `models.py` ä¸­
- API è§†å›¾åœ¨ `views.py` ä¸­
- åºåˆ—åŒ–å™¨åœ¨ `serializers.py` ä¸­

### å‰ç«¯å¼€å‘

- ä½¿ç”¨ TypeScript ç¡®ä¿ç±»å‹å®‰å…¨
- ç»„ä»¶é‡‡ç”¨å‡½æ•°å¼ç»„ä»¶ + Hooks
- ä½¿ç”¨ Tailwind CSS è¿›è¡Œæ ·å¼å¼€å‘
- API è°ƒç”¨ç»Ÿä¸€åœ¨ `services/api.ts` ä¸­ç®¡ç†

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®åº“è¿æ¥é”™è¯¯**

   - æ£€æŸ¥ PostgreSQL æœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯æ•°æ®åº“é…ç½®ä¿¡æ¯

2. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**

   - æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
   - éªŒè¯ `.env` æ–‡ä»¶ä¸­çš„ API åœ°å€

3. **æƒé™é”™è¯¯**
   - ç¡®ä¿ç”¨æˆ·æœ‰ç›¸åº”çš„æƒé™
   - æ£€æŸ¥ç”¨æˆ·è§’è‰²é…ç½®

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ LICENSE æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
